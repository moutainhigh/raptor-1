package com.mo9.raptor.service;

import com.mo9.raptor.RaptorApplicationTest;
import com.mo9.raptor.entity.UserEntity;
import com.mo9.raptor.risk.repo.RiskContractInfoRepository;
import com.mo9.raptor.risk.service.RiskContractInfoService;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;

import javax.annotation.Resource;
import java.util.ArrayList;
import java.util.HashSet;
import java.util.List;
import java.util.Set;

/**
 * Created by jyou on 2018/10/18.
 *
 * @author jyou
 */
@RunWith(SpringRunner.class)
@SpringBootTest(classes = {RaptorApplicationTest.class}, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
public class RiskContractInfoServiceTest {

    private String data = "{\"contact\":[{\"contact_mobile\":\"+8618016397322\",\"contact_name\":\"DDV\"},{\"contact_mobile\":\"+8613564560824\",\"contact_name\":\"Harry\"},{\"contact_mobile\":\"15800537520\",\"contact_name\":\"jimmy\"},{\"contact_mobile\":\"13764887062\",\"contact_name\":\"jojo（摄影）\"},{\"contact_mobile\":\"+8618101897972\",\"contact_name\":\"tenny\"},{\"contact_mobile\":\"15805512106\",\"contact_name\":\"丁勇勇\"},{\"contact_mobile\":\"13816642662\",\"contact_name\":\"wray\"},{\"contact_mobile\":\"15958884602\",\"contact_name\":\"万凌志\"},{\"contact_mobile\":\"+8613576274199\",\"contact_name\":\"习思哲\"},{\"contact_mobile\":\"15810390448\",\"contact_name\":\"付莉\"},{\"contact_mobile\":\"18621900603\",\"contact_name\":\"何倩\"},{\"contact_mobile\":\"13723836040\",\"contact_name\":\"余双杰\"},{\"contact_mobile\":\"13641812808\",\"contact_name\":\"候琪\"},{\"contact_mobile\":\"13961104933\",\"contact_name\":\"俞燕\"},{\"contact_mobile\":\"13611686132\",\"contact_name\":\"冯尧\"},{\"contact_mobile\":\"13761925557\",\"contact_name\":\"再创晴天\"},{\"contact_mobile\":\"13974162612\",\"contact_name\":\"刘孜孜\"},{\"contact_mobile\":\"13567426699\",\"contact_name\":\"刘波\"},{\"contact_mobile\":\"18673358627\",\"contact_name\":\"刘晓容\"},{\"contact_mobile\":\"18666965269\",\"contact_name\":\"刘畅\"},{\"contact_mobile\":\"18073151009\",\"contact_name\":\"刘竞方\"},{\"contact_mobile\":\"13478701312\",\"contact_name\":\"刘静\"},{\"contact_mobile\":\"13331820879\",\"contact_name\":\"双鱼\"},{\"contact_mobile\":\"13319601340\",\"contact_name\":\"向莹\"},{\"contact_mobile\":\"13570390096\",\"contact_name\":\"叶晓璐\"},{\"contact_mobile\":\"13875260400\",\"contact_name\":\"吕丞老婆\"},{\"contact_mobile\":\"+8618627532827\",\"contact_name\":\"吕丞\"},{\"contact_mobile\":\"13917711170\",\"contact_name\":\"吕老师\"},{\"contact_mobile\":\"13873398335\",\"contact_name\":\"吴晕\"},{\"contact_mobile\":\"13655171319\",\"contact_name\":\"吴晶晶\"},{\"contact_mobile\":\"+8615873361188\",\"contact_name\":\"周以\"},{\"contact_mobile\":\"13391160596\",\"contact_name\":\"周云\"},{\"contact_mobile\":\"13162802997\",\"contact_name\":\"周同\"},{\"contact_mobile\":\"13075738803\",\"contact_name\":\"周涛\"},{\"contact_mobile\":\"15570788298\",\"contact_name\":\"周知\"},{\"contact_mobile\":\"+8618121089681\",\"contact_name\":\"哟米\"},{\"contact_mobile\":\"13611669292\",\"contact_name\":\"唐志贝\"},{\"contact_mobile\":\"13564288440\",\"contact_name\":\"夏越庆\"},{\"contact_mobile\":\"15367162935\",\"contact_name\":\"外婆\"},{\"contact_mobile\":\"15018720030\",\"contact_name\":\"姐姐大人\"},{\"contact_mobile\":\"15990733799\",\"contact_name\":\"姜方权\"},{\"contact_mobile\":\"18970943297\",\"contact_name\":\"孙函子\"},{\"contact_mobile\":\"18516113524\",\"contact_name\":\"子房\"},{\"contact_mobile\":\"13795499356\",\"contact_name\":\"季诚\"},{\"contact_mobile\":\"13811174717\",\"contact_name\":\"宋亮\"},{\"contact_mobile\":\"+8613418504395\",\"contact_name\":\"宋洋洋\"},{\"contact_mobile\":\"13810637655\",\"contact_name\":\"小建\"},{\"contact_mobile\":\"13957881675\",\"contact_name\":\"寿寿\"},{\"contact_mobile\":\"13788926848\",\"contact_name\":\"小恩\"},{\"contact_mobile\":\"13918336082\",\"contact_name\":\"小李\"},{\"contact_mobile\":\"15899969573\",\"contact_name\":\"小李朋友张甜\"},{\"contact_mobile\":\"+8613510516867\",\"contact_name\":\"尤欣\"},{\"contact_mobile\":\"18621577667\",\"contact_name\":\"小静\"},{\"contact_mobile\":\"13480756248\",\"contact_name\":\"张仁戎\"},{\"contact_mobile\":\"13816409244\",\"contact_name\":\"张何杰\"},{\"contact_mobile\":\"18874570936\",\"contact_name\":\"张容\"},{\"contact_mobile\":\"15873365865\",\"contact_name\":\"张怡\"},{\"contact_mobile\":\"13786332567\",\"contact_name\":\"张梁\"},{\"contact_mobile\":\"13641889464\",\"contact_name\":\"张恒\"},{\"contact_mobile\":\"18721186910\",\"contact_name\":\"张淑媛\"},{\"contact_mobile\":\"92702689\",\"contact_name\":\"彭思佳\"},{\"contact_mobile\":\"+8615032501765\",\"contact_name\":\"张硕林\"},{\"contact_mobile\":\"+8613925088811\",\"contact_name\":\"张邓翔\"},{\"contact_mobile\":\"+8613501215916\",\"contact_name\":\"彭舒迟\"},{\"contact_mobile\":\"+8615821088279\",\"contact_name\":\"徐雅鸥\"},{\"contact_mobile\":\"13601791597\",\"contact_name\":\"徐力伟\"},{\"contact_mobile\":\"13701689150\",\"contact_name\":\"徐骁逞\"},{\"contact_mobile\":\"2995180\",\"contact_name\":\"教练\"},{\"contact_mobile\":\"18698628353\",\"contact_name\":\"接亚明\"},{\"contact_mobile\":\"13918052205\",\"contact_name\":\"方晶\"},{\"contact_mobile\":\"18673607660\",\"contact_name\":\"易松\"},{\"contact_mobile\":\"+8613723876457\",\"contact_name\":\"晏胤\"},{\"contact_mobile\":\"662639\",\"contact_name\":\"易林\"},{\"contact_mobile\":\"+8613787278294\",\"contact_name\":\"曾敏\"},{\"contact_mobile\":\"15885883630\",\"contact_name\":\"曾玉伟\"},{\"contact_mobile\":\"18611330265\",\"contact_name\":\"曾晓云\"},{\"contact_mobile\":\"+8613917201327\",\"contact_name\":\"李建鹏\"},{\"contact_mobile\":\"+8618018500302\",\"contact_name\":\"朱哲\"},{\"contact_mobile\":\"13524388106\",\"contact_name\":\"李斌\"},{\"contact_mobile\":\"13918528078\",\"contact_name\":\"李旭丰\"},{\"contact_mobile\":\"13608550229\",\"contact_name\":\"李欣\"},{\"contact_mobile\":\"18607336620\",\"contact_name\":\"李静\"},{\"contact_mobile\":\"13916449339\",\"contact_name\":\"杨明\"},{\"contact_mobile\":\"13762360127\",\"contact_name\":\"杨勇\"},{\"contact_mobile\":\"13260229917\",\"contact_name\":\"杨碗兰\"},{\"contact_mobile\":\"18673384944\",\"contact_name\":\"杨露薇\"},{\"contact_mobile\":\"13916794754\",\"contact_name\":\"林音\"},{\"contact_mobile\":\"18616816040\",\"contact_name\":\"毛毛\"},{\"contact_mobile\":\"13816948498\",\"contact_name\":\"格蕾丝\"},{\"contact_mobile\":\"+8613761946567\",\"contact_name\":\"毛爷\"},{\"contact_mobile\":\"18684642699\",\"contact_name\":\"汪海明\"},{\"contact_mobile\":\"13054158901\",\"contact_name\":\"汪洋\"},{\"contact_mobile\":\"15889677935\",\"contact_name\":\"沈兰洁\"},{\"contact_mobile\":\"13761408640\",\"contact_name\":\"沈毅敏\"},{\"contact_mobile\":\"+8615821044566\",\"contact_name\":\"浩浩老师\"},{\"contact_mobile\":\"13122176279\",\"contact_name\":\"淘米shirly\"},{\"contact_mobile\":\"+8615901629008\",\"contact_name\":\"淘米leo\"},{\"contact_mobile\":\"15184726339\",\"contact_name\":\"深深落花\"},{\"contact_mobile\":\"18906910891\",\"contact_name\":\"潘顺杰\"},{\"contact_mobile\":\"13918747587\",\"contact_name\":\"清静大师\"},{\"contact_mobile\":\"13922451221\",\"contact_name\":\"熊佳\"},{\"contact_mobile\":\"+8615310616982\",\"contact_name\":\"熊灿\"},{\"contact_mobile\":\"13507333596\",\"contact_name\":\"爸爸\"},{\"contact_mobile\":\"+8613600949623\",\"contact_name\":\"状义\"},{\"contact_mobile\":\"13764055875\",\"contact_name\":\"牧小月\"},{\"contact_mobile\":\"15365041009\",\"contact_name\":\"王佳\"},{\"contact_mobile\":\"15501038755\",\"contact_name\":\"王婷\"},{\"contact_mobile\":\"18019284233\",\"contact_name\":\"王子样\"},{\"contact_mobile\":\"13916539574\",\"contact_name\":\"王宁\"},{\"contact_mobile\":\"13671523404\",\"contact_name\":\"王宇峰\"},{\"contact_mobile\":\"15821133778\",\"contact_name\":\"王玉珊\"},{\"contact_mobile\":\"13574122148\",\"contact_name\":\"王明\"},{\"contact_mobile\":\"+8613604363395\",\"contact_name\":\"王琳\"},{\"contact_mobile\":\"+8615000114870\",\"contact_name\":\"王甜\"},{\"contact_mobile\":\"13487732300\",\"contact_name\":\"王继宇\"},{\"contact_mobile\":\"2801572\",\"contact_name\":\"田晋\"},{\"contact_mobile\":\"13501989623\",\"contact_name\":\"琉璃\"},{\"contact_mobile\":\"+8615877947350\",\"contact_name\":\"秀秀\"},{\"contact_mobile\":\"18679501160\",\"contact_name\":\"秦鸿毅\"},{\"contact_mobile\":\"15367188297\",\"contact_name\":\"罗光恒\"},{\"contact_mobile\":\"+8613801672350\",\"contact_name\":\"红豆anna\"},{\"contact_mobile\":\"18918927249\",\"contact_name\":\"罗少\"},{\"contact_mobile\":\"13874881308\",\"contact_name\":\"罗旋\"},{\"contact_mobile\":\"18616291931\",\"contact_name\":\"老蔡\"},{\"contact_mobile\":\"15173360045\",\"contact_name\":\"肖伊一\"},{\"contact_mobile\":\"+8613671750838\",\"contact_name\":\"考林\"},{\"contact_mobile\":\"15018762256\",\"contact_name\":\"肖旭慧\"},{\"contact_mobile\":\"18673347922\",\"contact_name\":\"肖晨\"},{\"contact_mobile\":\"+8613974956860\",\"contact_name\":\"胡钰彬\"},{\"contact_mobile\":\"13874155628\",\"contact_name\":\"舅妈\"},{\"contact_mobile\":\"13951729839\",\"contact_name\":\"苏苏\"},{\"contact_mobile\":\"13601998706\",\"contact_name\":\"范鹿华\"},{\"contact_mobile\":\"13816351434\",\"contact_name\":\"菜花\"},{\"contact_mobile\":\"18601722415\",\"contact_name\":\"萨拉\"},{\"contact_mobile\":\"+8615818311806\",\"contact_name\":\"蒋佳邑\"},{\"contact_mobile\":\"13585952524\",\"contact_name\":\"蔡康\"},{\"contact_mobile\":\"18774190823\",\"contact_name\":\"蔡洪杰\"},{\"contact_mobile\":\"18955856735\",\"contact_name\":\"薛文杰\"},{\"contact_mobile\":\"13478789064\",\"contact_name\":\"虾米zp\"},{\"contact_mobile\":\"13767199160\",\"contact_name\":\"袁超\"},{\"contact_mobile\":\"13975333557\",\"contact_name\":\"袁银\"},{\"contact_mobile\":\"13651782922\",\"contact_name\":\"西西\"},{\"contact_mobile\":\"+8615921468180\",\"contact_name\":\"谢琼\"},{\"contact_mobile\":\"13419640093\",\"contact_name\":\"赵昆\"},{\"contact_mobile\":\"13732907934\",\"contact_name\":\"赵林沛\"},{\"contact_mobile\":\"18916200279\",\"contact_name\":\"邓邓（黑皮）\"},{\"contact_mobile\":\"13973369261\",\"contact_name\":\"邱芳\"},{\"contact_mobile\":\"+8613806047412\",\"contact_name\":\"邹柳维\"},{\"contact_mobile\":\"13819851742\",\"contact_name\":\"邹丽\"},{\"contact_mobile\":\"18601283077\",\"contact_name\":\"郎俊雄\"},{\"contact_mobile\":\"18971499869\",\"contact_name\":\"邹洪涛\"},{\"contact_mobile\":\"13811777132\",\"contact_name\":\"郑家兴\"},{\"contact_mobile\":\"+8613590271997\",\"contact_name\":\"郭鑫\"},{\"contact_mobile\":\"18948182333\",\"contact_name\":\"阳志亮\"},{\"contact_mobile\":\"13916313082\",\"contact_name\":\"阿黛\"},{\"contact_mobile\":\"05515123410\",\"contact_name\":\"阿炜\"},{\"contact_mobile\":\"13564652538\",\"contact_name\":\"陆子\"},{\"contact_mobile\":\"18908006058\",\"contact_name\":\"陆宇川\"},{\"contact_mobile\":\"13392290656\",\"contact_name\":\"陈思聪\"},{\"contact_mobile\":\"13761414944\",\"contact_name\":\"陈剑锋\"},{\"contact_mobile\":\"15608414405\",\"contact_name\":\"陈翔\"},{\"contact_mobile\":\"13917333385\",\"contact_name\":\"陶子大师\"},{\"contact_mobile\":\"15861157425\",\"contact_name\":\"隕落\"},{\"contact_mobile\":\"13970828142\",\"contact_name\":\"韩东岩\"},{\"contact_mobile\":\"13718366602\",\"contact_name\":\"马宇辉\"},{\"contact_mobile\":\"+8613818280663\",\"contact_name\":\"顾凯\"},{\"contact_mobile\":\"18621268580\",\"contact_name\":\"高波\"},{\"contact_mobile\":\"15910351727\",\"contact_name\":\"高翔\"},{\"contact_mobile\":\"+8613817359635\",\"contact_name\":\"鸭珍干\"},{\"contact_mobile\":\"+8613585650171\",\"contact_name\":\"鱼宝\"},{\"contact_mobile\":\"15821615037\",\"contact_name\":\"黄傅涛\"},{\"contact_mobile\":\"13517336591\",\"contact_name\":\"黄婷\"},{\"contact_mobile\":\"13979118394\",\"contact_name\":\"黄华\"},{\"contact_mobile\":\"15973338680\",\"contact_name\":\"黄泓伟\"},{\"contact_mobile\":\"+8618918105980\",\"contact_name\":\"黑皮球球\"},{\"contact_mobile\":\"18007335598\",\"contact_name\":\"黄灿（朱哲妹妹）\"},{\"contact_mobile\":\"13974812363\",\"contact_name\":\"凌轩\"},{\"contact_mobile\":\"18188928922\",\"contact_name\":\"刘梦飞\"},{\"contact_mobile\":\"18601755292\",\"contact_name\":\"娜娜\"},{\"contact_mobile\":\"15968858565\",\"contact_name\":\"奚正波\"},{\"contact_mobile\":\"186-7082-6261\",\"contact_name\":\"彭杨\"},{\"contact_mobile\":\"158-7403-9129\",\"contact_name\":\"张蜀\"},{\"contact_mobile\":\"13830591202\",\"contact_name\":\"崽崽妈\"},{\"contact_mobile\":\"136-6551-2893\",\"contact_name\":\"张元庆\"},{\"contact_mobile\":\"13974144992\",\"contact_name\":\"曾祯\"},{\"contact_mobile\":\"26018203\",\"contact_name\":\"崽崽\"},{\"contact_mobile\":\"139-1638-5189\",\"contact_name\":\"廖翔\"},{\"contact_mobile\":\"188-9037-0084\",\"contact_name\":\"老弟\"},{\"contact_mobile\":\"180-7311-2341\",\"contact_name\":\"王敏\"},{\"contact_mobile\":\"+86181-1645-1020\",\"contact_name\":\"蒙辉哥\"},{\"contact_mobile\":\"186-8239-6216\",\"contact_name\":\"邹俊\"},{\"contact_mobile\":\"13774423374\",\"contact_name\":\"陈霆\"},{\"contact_mobile\":\"182-1704-5635\",\"contact_name\":\"葛欢\"},{\"contact_mobile\":\"180-7315-1008\",\"contact_name\":\"郭秋云\"},{\"contact_mobile\":\"159-0198-8355\",\"contact_name\":\"car（taomee）\"},{\"contact_mobile\":\"13917906328\",\"contact_name\":\"施魏佩\"},{\"contact_mobile\":\"186-2805-0205\",\"contact_name\":\"郑杰龙\"},{\"contact_mobile\":\"186-7332-3133\",\"contact_name\":\"婚庆付\"},{\"contact_mobile\":\"138-8453-1908\",\"contact_name\":\"姜蕾三舅\"},{\"contact_mobile\":\"158-7955-9147\",\"contact_name\":\"潘媛\"},{\"contact_mobile\":\"152-1689-8940\",\"contact_name\":\"caesar\"},{\"contact_mobile\":\"150-0092-7012\",\"contact_name\":\"昊尚\"},{\"contact_mobile\":\"136-3663-6624\",\"contact_name\":\"如来\"},{\"contact_mobile\":\"138-1852-8204\",\"contact_name\":\"薛队长\"},{\"contact_mobile\":\"136-5171-4810\",\"contact_name\":\"齐家陶师傅\"},{\"contact_mobile\":\"59965686\",\"contact_name\":\"嘉宝\"},{\"contact_mobile\":\"138-1845-8868\",\"contact_name\":\"小杜\"},{\"contact_mobile\":\"138-1704-0918\",\"contact_name\":\"永乐\"},{\"contact_mobile\":\"186-1732-7645\",\"contact_name\":\"陈思远\"},{\"contact_mobile\":\"135-8579-5262\",\"contact_name\":\"摄影Leo\"},{\"contact_mobile\":\"158-1118-8701\",\"contact_name\":\"彩凤\"},{\"contact_mobile\":\"181-4977-4271\",\"contact_name\":\"大姨\"},{\"contact_mobile\":\"15950939281\",\"contact_name\":\"张金金\"},{\"contact_mobile\":\"18557705960\",\"contact_name\":\"潘伟\"},{\"contact_mobile\":\"18930434017\",\"contact_name\":\"范荪\"},{\"contact_mobile\":\"13310016667\",\"contact_name\":\"张帅（mo9）\"},{\"contact_mobile\":\"18573329092\",\"contact_name\":\"张怡\"},{\"contact_mobile\":\"10655059113144\",\"contact_name\":\"钉钉官方短信\"},{\"contact_mobile\":\"150-0035-2741\",\"contact_name\":\"张征辉\"},{\"contact_mobile\":\"139-1873-1232\",\"contact_name\":\"jojo（hr）\"},{\"contact_mobile\":\"139-7333-5689\",\"contact_name\":\"舅舅\"},{\"contact_mobile\":\"13801552795\",\"contact_name\":\"于国荣\"},{\"contact_mobile\":\"18221959378\",\"contact_name\":\"ben（手套）\"},{\"contact_mobile\":\"137-7301-8885\",\"contact_name\":\"沈经理 太仓贷款\"},{\"contact_mobile\":\"13830581626\",\"contact_name\":\"崽崽爸\"},{\"contact_mobile\":\"02131772035\",\"contact_name\":\"钉钉DING消息\"},{\"contact_mobile\":\"188-1789-1381\",\"contact_name\":\"奶娃（淘米）\"},{\"contact_mobile\":\"13817299196\",\"contact_name\":\"elvis\"},{\"contact_mobile\":\"13122155128\",\"contact_name\":\"夏天\"},{\"contact_mobile\":\"18721398873\",\"contact_name\":\"aimee\"},{\"contact_mobile\":\"137-8007-7756\",\"contact_name\":\"庄课\"},{\"contact_mobile\":\"13147870337\",\"contact_name\":\"杨添娇\"},{\"contact_mobile\":\"188-4248-9039\",\"contact_name\":\"anker（手套）\"},{\"contact_mobile\":\"186 7080 8120\",\"contact_name\":\"曾祯\"},{\"contact_mobile\":\"057156215888\",\"contact_name\":\"钉钉专属顾问\"},{\"contact_mobile\":\"+86183-7383-7157\",\"contact_name\":\"秀秀\"},{\"contact_mobile\":\"0574-86785218\",\"contact_name\":\"北仑社区\"},{\"contact_mobile\":\"18616374013\",\"contact_name\":\"tony（taomee）\"},{\"contact_mobile\":\"177-0168-8992\",\"contact_name\":\"ruby\"},{\"contact_mobile\":\"18664338728\",\"contact_name\":\"高雄\"},{\"contact_mobile\":\"18707193693\",\"contact_name\":\"司柯南\"},{\"contact_mobile\":\"18707193693\",\"contact_name\":\"Savior Zeng\"},{\"contact_mobile\":\"15821746781\",\"contact_name\":\"陈师傅（富士通）\"},{\"contact_mobile\":\"15201968875\",\"contact_name\":\"trail (taomee)\"},{\"contact_mobile\":\"139-1675-4579\",\"contact_name\":\"搬家 王\"},{\"contact_mobile\":\"137-6427-0759\",\"contact_name\":\"sofia\"},{\"contact_mobile\":\"18668108155\",\"contact_name\":\"魏令娴\"},{\"contact_mobile\":\"131-6239-8709\",\"contact_name\":\"张静\"},{\"contact_mobile\":\"156-1802-5450\",\"contact_name\":\"garry\"},{\"contact_mobile\":\"15901984179\",\"contact_name\":\"朱教练\"},{\"contact_mobile\":\"073122801399\",\"contact_name\":\"妈妈\"},{\"contact_mobile\":\"13862294966\",\"contact_name\":\"崽崽妈\"},{\"contact_mobile\":\"15952440190\",\"contact_name\":\"胡倩\"}],\"countryName\":\"CN\",\"buyerMobile\":\"18616297271\"}";

    @Resource
    private RiskContractInfoService riskContractInfoService;

    @Resource
    private RiskContractInfoRepository riskContractInfoRepository;

    @Test
    public void testCreateAll(){
        UserEntity userEntity = new UserEntity();
        userEntity.setMobile("18616297271");
        userEntity.setUserCode("AA20A480E526D644D13D9AC5593D47222");
        riskContractInfoService.createAll(data, userEntity);
    }

    @Test
    public void testUpdateMatchingMobile(){
        String userCode = "123456";
        Set<String> set = new HashSet<>();
        set.add("15703034772");
        set.add("110");
        set.add("112");
        List<String> list = new ArrayList<>(set );
        riskContractInfoRepository.updateMatchingMobile(userCode, list);
    }
}
